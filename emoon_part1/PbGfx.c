#include "PbGfx.h"
#include <tamtypes.h>
#include <stdio.h>
#include "gs.h"
#include "prim.h"
#include "../harness.h"

int fb = 0;
u32 color = 0;

///////////////////////////////////////////////////////////////////////////////
// PBGfx_Setup
///////////////////////////////////////////////////////////////////////////////

void PbGfx_Setup()
{
	init_gs();
	set_bg_colour(0x00, 0x00, 0x00);
	set_active_fb(fb);
	clr_scr(color++);

	set_visible_fb(fb);
	fb ^= 1;
	set_active_fb(fb);
}

///////////////////////////////////////////////////////////////////////////////
// PBGfx_Update
///////////////////////////////////////////////////////////////////////////////

void PbGfx_Update()
{
	wait_vsync();
	set_visible_fb(fb);
	fb ^= 1;
	set_active_fb(fb);
}

///////////////////////////////////////////////////////////////////////////////
// PBGfx_Update
///////////////////////////////////////////////////////////////////////////////

void PbGfx_ClearScreen()
{
	clr_scr( (127<<16)|127 ); 
}

